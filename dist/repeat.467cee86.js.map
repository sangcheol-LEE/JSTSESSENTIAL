{"version":3,"sources":["repeat.js"],"names":["NEWS_URL","CONTENT_URL","ROOT","document","getElementById","store","currentPage","getData","url","ajax","XMLHttpRequest","open","send","JSON","parse","response","NEWS_FEED","detailFeed","_location","_location$hash","locate","location","hash","substring","console","log","ret","replace","innerHTML","concat","title","totalFeed","newsList","minPage","maxPage","length","push","i","id","comments_count","join","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"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","file":"repeat.467cee86.js","sourceRoot":"..","sourcesContent":["const NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\nconst CONTENT_URL = `https://api.hnpwa.com/v0/item/@hash.json`;\nconst ROOT = document.getElementById(\"root\");\n\nconst store = {\n   currentPage : 1,\n}\n\n\nconst getData = (url) => {\n   const ajax = new XMLHttpRequest();\n   ajax.open(\"GET\",url,false);\n   ajax.send();\n\n   return JSON.parse(ajax.response)\n}\n\nconst NEWS_FEED = getData(NEWS_URL);\n\n\nconst detailFeed = () => {\n   const locate = location?.hash?.substring(7);\n   console.log(locate,\"asdasd\")\n   const ret = getData(CONTENT_URL.replace(\"@hash\",locate));\n\n   ROOT.innerHTML = `\n      <h1>${ret.title}</h1>\n      <div>\n         <a href=\"#/page/${store.currentPage}\">목록으로</a>\n      </div>\n   `\n}\n\nconst totalFeed = () => {\n   const newsList = [];\n   const minPage = store.currentPage > 1 ? store.currentPage - 1 : 1;\n   const maxPage = store.currentPage * 10 === NEWS_FEED.length ? store.currentPage * 10 / 10 : store.currentPage + 1;\n\n   newsList.push(`</ul>`);\n   newsList.push('<ul>');\n   for(let i = (store.currentPage - 1) * 10; i < store.currentPage * 10; i++) {\n      newsList.push(`\n         <li>\n            <a href=\"#/show/${NEWS_FEED[i].id}\">\n               ${NEWS_FEED[i].title} (${NEWS_FEED[i].comments_count})\n            </a>\n         </li>\n      `)\n   };\n\n   newsList.push(`\n      <div>\n         <a href=\"#/page/${minPage}\">이전 페이지</a>\n         <a href=\"#/page/${maxPage}\">다음 페이지</a>\n      </div>\n   `);\n   const ret = newsList.join(\"\");\n   ROOT.innerHTML = ret;\n};\n\nconst router = () => {\n   const routePath = location.hash;\n   console.log(\"goood....\",routePath.indexOf(\"#/page/\"))\n   console.log(\"router\",routePath)\n   if(routePath === \"\") {\n      totalFeed();\n   }else if(routePath.indexOf(\"#/page/\") >= 0){\n      store.currentPage = Number(routePath.substring(7));\n      totalFeed();\n   }else {\n      detailFeed();\n   }\n}\nwindow.addEventListener(\"hashchange\",router)\nrouter();\n\n"]}